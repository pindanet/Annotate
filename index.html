<!DOCTYPE html>
<html lang="nl" dir="ltr">
<head>
	<meta charset="utf-8">
	<title>Annotate HTML webpage</title>
	<link rel="stylesheet" href="texteditor.css">
	<link rel="stylesheet" href="annotate.css">
</head>
<!--https://www.cssscript.com/demo/text-annotation-highlighting/-->
<body>
  <dialog id="passphraseDialog">
    <p>Please enter the Passphrase:</p>
    <form method="dialog">
      <input type="password" id="passphraseInput" formmethod="dialog" placeholder="Or leave it empty">
      <button id="confirmBtn" value="default">Submit</button>
    </form>
  </dialog>
  <main class="annotatable" onclick="annotate(event);">
    <h1>Here comes the default text.</h1>
    <p>See the language section in the annotate.js file.</p>
  </main>
	<div id="texteditor" style="display: none;"></div>
	<!--External JavaScript file-->
	<script src="texteditor.js"></script>
	<script type="text/javascript">loadEditor(document.getElementById("texteditor"), "texteditor.html");</script>
	<script src="annotate.js"></script>
	<script>
	  saveScript = "save.php";
    var mainEn = `
      <h1>Making notes on HTML webpages.</h1>
      <p>With the CTRL key pressed, click in the text to create a text note at this location.</p>
      <p>A text editor appears in the line above the click position.
      Write the note with or without formatting and click the save button to save it encrypted on the web server.
      In this demo, notes older than one day are deleted when saving a new note.</p>
      <p>When encrypting, a passphrase (password) can be used to save the notes from this page even better encrypted.</p>
      <p>Each note can be modified and deleted.</p>
      <p>The notes are language bound. Thus, notes may not appear (or different notes) if different language settings are used on another computer or browser.
      Check out the Dutch version <a href="index.html?lang=nl" target="_blank">here</a>.</p>
      <p>This application uses the open source text editor described <a href="https://pindanet.github.io/Texteditor/" target="_blank">here</a>.</p>
    `.trim();
    var en = ({
      "mainEn": mainEn,
    });
    Object.assign(translate.en, en);
    var mainNl = ` 
      <h1>Notities maken op HTML webpagina&apos;s.</h1>
      <p>Klik met ingedrukte CTRL-toets in de tekst om op deze plaats een tekstnotitie te maken.</p>
      <p>In de regel boven de klikpositie verschijnt een teksteditor.
      Schrijf de notitie met of zonder opmaak en klik op de bewaarknop om hem gecodeerd op te slaan op de webserver.
      In deze demo worden notities ouder dan één dag verwijderd bij het opslaan van een nieuwe notitie.</p>
      <p>Bij het coderen kan een passphrase (wachtwoord) worden gebruikt om de notities van deze pagina nog beter gecodeerd op te slaan.</p>
      <p>Elke notitie kan worden gewijzigd en verwijderd.</p>
      <p>Zo kunnen notities niet (of andere notities) verschijnen als op een andere computer of browser andere taalinstellingen worden gebruikt.
      Bekijk <a href="index.html?lang=en" target="_blank">hier</a> de Engelse versie.</p>
      <p>Deze toepassing gebruikt de <a href="https://pindanet.github.io/Texteditor/" target="_blank">hier</a> beschreven open source teksteditor.</p>
    `.trim();
    var nl = ({
      "mainEn": mainNl,
    });
    Object.assign(translate.nl, nl);
    mainEl = document.getElementsByTagName("main")[0];
    mainEl.innerHTML = translate[l10n]["mainEn"];
	  askPassphrase();
	</script>
  <div id="saveViewer"></div>
</body>
</html>
